{
  "name": "React-gulp",
  "tagline": "",
  "body": "# 模仿知乎界面的一个简单React demo\r\n\r\n博客地址：http://blog.xieliqun.com/2016/11/04/react-zhihu/\r\n\r\n\r\n\r\n> 这是一个模仿知乎界面的简单React demo。这个React demo能让你从零开始学习React，并逐渐掌握React。它包括了一个项目从零到项目完成的整个过程。\r\n\r\n**项目运行**\r\n```javascript\r\n$ git clone https://github.com/tsrot/react-zhihu.git\r\n$ cd react-zhihu\r\n\r\n$ npm install\r\n\r\n$ bower install\r\n\r\n$ gulp server   //用浏览器打开 localhost:5000\r\n```\r\n\r\n\r\n## 搭建开发环境\r\n\r\n### 初始化npm bower\r\n\r\n```javascript\r\nnpm init  //一直enter，默认就好\r\n\r\nbower init //同上\r\n\r\n```\r\n\r\n### 安装必要的开发工具包\r\n\r\n- gulp ：基于流的自动化构建工具\r\n- gulp-browserify ：前端模块及依赖管理\r\n- gulp-concat ：文件合并插件\r\n- gulp-react ：JSX语法转化工具\r\n- gulp-connect ：构建本地开发Web服务器\r\n- lodash ：一个具有一致接口、模块化、高性能等特性的 JavaScript 工具库\r\n- reactify ：React 编译器\r\n\r\n```javascript\r\nnpm install gulp gulp-browserify gulp-concat gulp-react gulp-connect lodash reactify --save-dev\r\n```\r\n\r\n### 安装生产环境依赖包\r\n\r\n- react ：主要框架\r\n- react-dom ：React的DOM操作类\r\n- bootstrap ：bootstrap样式\r\n\r\n```javascript\r\nnpm install --save react react-dom\r\n\r\nbower install --save bootstrap\r\n```\r\n\r\n### 写入gulp配置文件gulpfile.js\r\n\r\n你可以在npm的网站上找到相应插件的gulp配置写法。我配置的[gulpfile.js](https://github.com/tsrot/)\r\n\r\n\r\n## 开发\r\n\r\n- 切分相应的模块\r\n- 分清UI组件和容器组件\r\n- 学会如何在组件之间通信\r\n- 注意写作规范和开发细节\r\n\r\n## 部署生产\r\n\r\n请切换分支到 product 分支\r\n\r\n### 修改gulpfile文件\r\n```javascript\r\n//添加copy任务\r\ngulp.task('copy',function(){\r\n    gulp.src('./app/css/*')\r\n    .pipe(gulp.dest('./dist/css'));\r\n\r\n    gulp.src('./bower_components/**/*')\r\n    .pipe(gulp.dest('./dist/libs'));\r\n\r\n    gulp.src('./*.html')\r\n    .pipe(gulp.dest('./dist'));\r\n});\r\n\r\n//生产服务器\r\ngulp.task('connect-pro',function(){\r\n    connect.server({\r\n        root:'./dist',\r\n        port:port,\r\n        livereload:true,\r\n    })\r\n});\r\n\r\n//添加build任务\r\ngulp.task('build',['browserify','copy']);\r\n\r\n//添加启动生产服务器任务\r\ngulp.task('server-pro',['build','connect-pro','watch']);\r\n```\r\n\r\n### 修改index.html引用目录\r\n```javascript\r\n<link rel=\"stylesheet\" href=\"./libs/bootstrap/dist/css/bootstrap.css\">\r\n<link rel=\"stylesheet\" href=\"./css/index.css\">\r\n\r\n<script src=\"./js/main.js\"></script>\r\n```\r\n\r\n### 使用gulp-gh-pages部署到github pages\r\n\r\n下载gulp-gh-pages插件\r\n```javascript\r\nnpm install --save-dev gulp-gh-pages\r\n```\r\n在gulpfile文件中添加配置gulp-gh-pages代码\r\n```javascript\r\nvar ghPages = require('gulp-gh-pages');\r\n\r\ngulp.task('deploy', function() {\r\n  return gulp.src('./dist/**/*')\r\n    .pipe(ghPages());\r\n});\r\n```\r\n\r\n## webpack + es6 ([webpack分支](https://github.com/tsrot/react-zhihu/tree/webpack))\r\n\r\n1、手动删除bower_components，统一使用npm，这样有利于后面webpack的配置。\r\n把bootstrap安装到node_modules:\r\n```javascript\r\n$ npm install --save bootstrap\r\n```\r\n2、安装webpack-stream、vinyl-named、gulp-clean\r\n```javascript\r\n$ npm install --save-dev webpack-stream vinyl-named gulp-clean\r\n```\r\n3、安装webpack plugin和webpack loader\r\n```javascript\r\n$ npm install --save-dev html-webpack-plugin extract-text-webpack-plugin babel-core babel-loader babel-preset-es2015 babel-preset-react style-loader css-loader postcss-loader autoprefixer file-loader\r\n```\r\n4、配饰gulp和webpack\r\n\r\n## 后续\r\n\r\n将在分支中更新使用下列技术的版本\r\n- webpack + es6 : [webpack分支](https://github.com/tsrot/react-zhihu/tree/webpack)\r\n- webpack + es6 + redux \r\n- webkack + es6 + redux + react-router",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}